<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E-commerce Intelligence Intake - Rouze</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #F8F6F0; padding: 40px 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 60px; border-radius: 12px; box-shadow: 0 4px 20px rgba(44, 44, 44, 0.06); }
        h1 { font-family: 'Playfair Display', serif; font-size: 36px; color: #2C2C2C; margin-bottom: 10px; }
        .industry-badge { display: inline-block; background: #FF6B6B; color: white; padding: 6px 16px; border-radius: 20px; font-size: 12px; font-weight: 600; text-transform: uppercase; margin-bottom: 30px; }
        .form-group { margin-bottom: 30px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; color: #2C2C2C; }
        .helper-text { font-size: 13px; color: #666; margin-top: 5px; }
        input, select, textarea { width: 100%; padding: 14px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 15px; transition: border 0.3s; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #FF6B6B; }
        .tier-selection { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin: 20px 0; }
        .tier-card { border: 2px solid #E0E0E0; padding: 25px; border-radius: 8px; cursor: pointer; transition: all 0.3s; position: relative; }
        .tier-card:hover { border-color: #FF6B6B; transform: translateY(-4px); }
        .popular-badge { position: absolute; top: -12px; right: 20px; background: #FFD700; color: #2C2C2C; padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: 700; text-transform: uppercase; }
        .tier-name { font-weight: 600; font-size: 18px; margin-bottom: 8px; }
        .tier-price { color: #FF6B6B; font-size: 24px; font-weight: 700; margin: 10px 0; }
        .tier-features { font-size: 13px; color: #666; margin-top: 10px; }
        .tier-features li { margin: 5px 0; }
        .submit-button { background: linear-gradient(135deg, #FF6B6B, #EE5A52); color: white; border: none; padding: 18px 50px; font-size: 16px; font-weight: 600; border-radius: 50px; cursor: pointer; width: 100%; text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.3s; }
        .submit-button:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4); }
    </style>
</head>
<body>
    <div class="container">
        <span class="industry-badge">E-commerce Intelligence</span>
        <h1>Viral Product Intelligence Intake</h1>
        <p style="color: #666; margin-bottom: 40px;">
            We analyze TikTok engagement velocity, Amazon review patterns, and influencer mentions 
            to predict viral products 30-60 days before mainstream breakout.
        </p>

        <form id="intakeForm">
            <div class="form-group">
                <label>What inventory or launch decision are you making?</label>
                <textarea name="decision" rows="4" placeholder="e.g., Should we order 10K units of product X based on viral potential signals?" required></textarea>
                <span class="helper-text">Focus on inventory, launch timing, or product positioning decisions</span>
            </div>

            <div class="form-group">
                <label>Product Category</label>
                <select name="category" required>
                    <option value="">Select category</option>
                    <option value="beauty">Beauty & Skincare</option>
                    <option value="fashion">Fashion & Apparel</option>
                    <option value="home">Home & Decor</option>
                    <option value="electronics">Electronics & Gadgets</option>
                    <option value="fitness">Fitness & Wellness</option>
                    <option value="food">Food & Beverage</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label>Primary Sales Channel</label>
                <select name="channel" required>
                    <option value="">Select channel</option>
                    <option value="amazon">Amazon</option>
                    <option value="shopify">Shopify / DTC</option>
                    <option value="tiktok_shop">TikTok Shop</option>
                    <option value="etsy">Etsy</option>
                    <option value="multi">Multi-channel</option>
                </select>
            </div>

            <div class="form-group">
                <label>What intelligence do you need?</label>
                <select name="focus" required>
                    <option value="">Select focus</option>
                    <option value="viral_prediction">Viral Product Prediction (identify breakout products early)</option>
                    <option value="trend_forecasting">Trend Forecasting (what's emerging in 30-90 days)</option>
                    <option value="influencer_impact">Influencer Impact Analysis (ROI of influencer partnerships)</option>
                    <option value="competitor_tracking">Competitor Product Tracking (what's working for them)</option>
                    <option value="pricing_strategy">Pricing Strategy Intelligence</option>
                </select>
            </div>

            <div class="form-group">
                <label>Monthly Revenue Range</label>
                <select name="revenue" required>
                    <option value="">Select range</option>
                    <option value="0-10k">$0 - $10K (just starting)</option>
                    <option value="10k-50k">$10K - $50K (early traction)</option>
                    <option value="50k-250k">$50K - $250K (scaling)</option>
                    <option value="250k+">$250K+ (established)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Select Intelligence Package</label>
                <div class="tier-selection">
                    <label class="tier-card">
                        <input type="radio" name="tier" value="product_scan" required>
                        <div class="tier-content">
                            <div class="tier-name">Product Scan</div>
                            <div class="tier-price">$500</div>
                            <ul class="tier-features">
                                <li>• 48-hour analysis</li>
                                <li>• 1 product deep-dive</li>
                                <li>• Viral score + trends</li>
                            </ul>
                        </div>
                    </label>

                    <label class="tier-card">
                        <span class="popular-badge">Popular</span>
                        <input type="radio" name="tier" value="trend_forecast" checked>
                        <div class="tier-content">
                            <div class="tier-name">Trend Forecast</div>
                            <div class="tier-price">$1,200</div>
                            <ul class="tier-features">
                                <li>• 5-day comprehensive</li>
                                <li>• 3-5 products analyzed</li>
                                <li>• Inventory recommendations</li>
                                <li>• Timing strategies</li>
                            </ul>
                        </div>
                    </label>

                    <label class="tier-card">
                        <input type="radio" name="tier" value="ongoing_tracking">
                        <div class="tier-content">
                            <div class="tier-name">Ongoing Tracking</div>
                            <div class="tier-price">$2,000/mo</div>
                            <ul class="tier-features">
                                <li>• Weekly trend reports</li>
                                <li>• Real-time viral alerts</li>
                                <li>• Competitor monitoring</li>
                                <li>• Dashboard access</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label>Brand / Store Name</label>
                <input type="text" name="company" placeholder="Your Brand" required>
            </div>

            <div class="form-group">
                <label>Your Email</label>
                <input type="email" name="email" placeholder="email@brand.com" required>
            </div>

            <div class="form-group">
                <label>Discount Code (optional)</label>
                <input type="text" name="discount_code" placeholder="Try: LAUNCH50, FIRST20, AFFILIATE15" id="discountCode">
                <span class="helper-text" id="discountMessage">Have an affiliate code? Enter it here</span>
            </div>

            <button type="submit" class="submit-button">Get Viral Intelligence</button>
        </form>
    </div>

    <script>
        document.getElementById('discountCode').addEventListener('blur', async (e) => {
            const code = e.target.value.toUpperCase();
            if (!code) return;
            const response = await fetch('/api/validate-discount', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({code: code})
            });
            const result = await response.json();
            const message = document.getElementById('discountMessage');
            if (result.valid) {
                message.textContent = `✓ ${result.description} - Save ${result.discount}%!`;
                message.style.color = '#4CAF50';
                message.style.fontWeight = '600';
            } else {
                message.textContent = '✗ Invalid code - check spelling';
                message.style.color = '#E74C3C';
            }
        });

        document.getElementById('intakeForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            data.industry = 'ecommerce';
            const response = await fetch('/api/submit-intake', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            const result = await response.json();
            if (result.status === 'success') {
                window.location.href = result.next_url;
            }
        });
    </script>
</body>
</html>
