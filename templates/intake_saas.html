<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SaaS Intelligence Intake - Rouze</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #F8F6F0; padding: 40px 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 60px; border-radius: 12px; box-shadow: 0 4px 20px rgba(44, 44, 44, 0.06); }
        h1 { font-family: 'Playfair Display', serif; font-size: 36px; color: #2C2C2C; margin-bottom: 10px; }
        .industry-badge { display: inline-block; background: #4A90E2; color: white; padding: 6px 16px; border-radius: 20px; font-size: 12px; font-weight: 600; text-transform: uppercase; margin-bottom: 30px; }
        .form-group { margin-bottom: 30px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; color: #2C2C2C; }
        .helper-text { font-size: 13px; color: #666; margin-top: 5px; }
        input, select, textarea { width: 100%; padding: 14px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 15px; transition: border 0.3s; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #4A90E2; }
        .tier-selection { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin: 20px 0; }
        .tier-card { border: 2px solid #E0E0E0; padding: 25px; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .tier-card:hover { border-color: #4A90E2; transform: translateY(-4px); }
        .tier-name { font-weight: 600; font-size: 18px; margin-bottom: 8px; }
        .tier-price { color: #4A90E2; font-size: 24px; font-weight: 700; margin: 10px 0; }
        .tier-features { font-size: 13px; color: #666; margin-top: 10px; }
        .tier-features li { margin: 5px 0; }
        .submit-button { background: linear-gradient(135deg, #4A90E2, #357ABD); color: white; border: none; padding: 18px 50px; font-size: 16px; font-weight: 600; border-radius: 50px; cursor: pointer; width: 100%; text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.3s; }
        .submit-button:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(74, 144, 226, 0.4); }
    </style>
</head>
<body>
    <div class="container">
        <span class="industry-badge">SaaS Intelligence</span>
        <h1>SaaS Competitive Intelligence Intake</h1>
        <p style="color: #666; margin-bottom: 40px;">
            We analyze GitHub issues, Stack Overflow discussions, G2 reviews, and developer forums 
            to identify competitor feature gaps and product pivots 60-90 days before public announcements.
        </p>

        <form id="intakeForm">
            <div class="form-group">
                <label>What product decision are you validating?</label>
                <textarea name="decision" rows="4" placeholder="e.g., Should we prioritize building feature X based on competitor weakness in this area?" required></textarea>
                <span class="helper-text">Focus on product roadmap, feature prioritization, or go-to-market decisions</span>
            </div>

            <div class="form-group">
                <label>Your Product Category</label>
                <select name="category" required>
                    <option value="">Select category</option>
                    <option value="project_management">Project Management</option>
                    <option value="crm">CRM / Sales Tools</option>
                    <option value="devtools">Developer Tools</option>
                    <option value="analytics">Analytics / BI</option>
                    <option value="marketing">Marketing Automation</option>
                    <option value="collaboration">Team Collaboration</option>
                    <option value="other">Other SaaS</option>
                </select>
            </div>

            <div class="form-group">
                <label>Primary Competitors (list 2-3)</label>
                <input type="text" name="competitors" placeholder="e.g., Asana, Monday.com, ClickUp" required>
                <span class="helper-text">We'll analyze their feature gaps and customer complaints</span>
            </div>

            <div class="form-group">
                <label>Intelligence Focus</label>
                <select name="focus" required>
                    <option value="">What do you need most?</option>
                    <option value="feature_gaps">Feature Gap Analysis (what competitors are missing)</option>
                    <option value="customer_pain">Customer Pain Point Identification</option>
                    <option value="pricing_strategy">Pricing Strategy Intelligence</option>
                    <option value="product_pivot">Competitor Pivot Detection</option>
                    <option value="market_positioning">Market Positioning Analysis</option>
                </select>
            </div>

            <div class="form-group">
                <label>Your Current Stage</label>
                <select name="stage" required>
                    <option value="">Select stage</option>
                    <option value="pre_launch">Pre-launch / MVP</option>
                    <option value="early_stage">Early stage (< 100 customers)</option>
                    <option value="growth">Growth stage (100-1000 customers)</option>
                    <option value="scale">Scale stage (1000+ customers)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Select Intelligence Package</label>
                <div class="tier-selection">
                    <label class="tier-card">
                        <input type="radio" name="tier" value="quick_scan" required>
                        <div class="tier-content">
                            <div class="tier-name">Quick Scan</div>
                            <div class="tier-price">$800</div>
                            <ul class="tier-features">
                                <li>• 3-day analysis</li>
                                <li>• Top 3 feature gaps</li>
                                <li>• Sentiment overview</li>
                            </ul>
                        </div>
                    </label>

                    <label class="tier-card">
                        <input type="radio" name="tier" value="deep_analysis">
                        <div class="tier-content">
                            <div class="tier-name">Deep Analysis</div>
                            <div class="tier-price">$2,000</div>
                            <ul class="tier-features">
                                <li>• 7-day comprehensive</li>
                                <li>• Competitive matrix</li>
                                <li>• Feature priorities</li>
                                <li>• ROI projections</li>
                            </ul>
                        </div>
                    </label>

                    <label class="tier-card">
                        <input type="radio" name="tier" value="ongoing_monitoring">
                        <div class="tier-content">
                            <div class="tier-name">Ongoing Monitor</div>
                            <div class="tier-price">$3,000/mo</div>
                            <ul class="tier-features">
                                <li>• Weekly briefings</li>
                                <li>• Real-time alerts</li>
                                <li>• Dashboard access</li>
                                <li>• Competitor pivots</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label>Company Name</label>
                <input type="text" name="company" placeholder="Your SaaS Company" required>
            </div>

            <div class="form-group">
                <label>Your Email</label>
                <input type="email" name="email" placeholder="founder@startup.com" required>
            </div>

            <div class="form-group">
                <label>Discount / Affiliate Code (optional)</label>
                <input type="text" name="discount_code" placeholder="LAUNCH50, FIRST20, etc." id="discountCode">
                <span class="helper-text" id="discountMessage"></span>
            </div>

            <button type="submit" class="submit-button">Get Intelligence Brief</button>
        </form>
    </div>

    <script>
        document.getElementById('discountCode').addEventListener('blur', async (e) => {
            const code = e.target.value.toUpperCase();
            if (!code) return;
            const response = await fetch('/api/validate-discount', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({code: code})
            });
            const result = await response.json();
            const message = document.getElementById('discountMessage');
            if (result.valid) {
                message.textContent = `✓ ${result.description} - ${result.discount}% off applied!`;
                message.style.color = '#4CAF50';
            } else {
                message.textContent = '✗ Invalid code';
                message.style.color = '#E74C3C';
            }
        });

        document.getElementById('intakeForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            data.industry = 'saas';
            const response = await fetch('/api/submit-intake', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            const result = await response.json();
            if (result.status === 'success') {
                window.location.href = result.next_url;
            }
        });
    </script>
</body>
</html>
